import{I as it,r as P,_ as ze,J as rt,K as lt,j as a,w as Fe,x as Be,y as Ye,z as Ue,O as Q,v as se,Q as ct}from"./index-DUDTAd9W.js";import{R as dt,d as _,S as mt,U as ut,e as ht,f as pt,B as ft,g as $,h as J,Q as Ce,P as ge,O as xe,i as ke,V as F,j as gt,k as xt,u as K,b as vt,l as yt,m as bt,T as wt,n as X,o as jt,p as oe,q as Et,c as Mt}from"./react-three-fiber.esm-Zka2T4Mv.js";import{S as ce}from"./switch-cn-L-SuC.js";import{I as Ie}from"./image-CKfeGsQ7.js";import{M as Pt}from"./map-BhXLqKnU.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=it("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),Tt=parseInt(dt.replace(/\D+/g,""));var Nt=Object.defineProperty,Ot=(m,s,i)=>s in m?Nt(m,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):m[s]=i,Re=(m,s,i)=>(Ot(m,typeof s!="symbol"?s+"":s,i),i);const Lt=(()=>{const m={uniforms:{turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new _},up:{value:new _(0,1,0)}},vertexShader:`
      uniform vec3 sunPosition;
      uniform float rayleigh;
      uniform float turbidity;
      uniform float mieCoefficient;
      uniform vec3 up;

      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      // constants for atmospheric scattering
      const float e = 2.71828182845904523536028747135266249775724709369995957;
      const float pi = 3.141592653589793238462643383279502884197169;

      // wavelength of used primaries, according to preetham
      const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );
      // this pre-calcuation replaces older TotalRayleigh(vec3 lambda) function:
      // (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))
      const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );

      // mie stuff
      // K coefficient for the primaries
      const float v = 4.0;
      const vec3 K = vec3( 0.686, 0.678, 0.666 );
      // MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K
      const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );

      // earth shadow hack
      // cutoffAngle = pi / 1.95;
      const float cutoffAngle = 1.6110731556870734;
      const float steepness = 1.5;
      const float EE = 1000.0;

      float sunIntensity( float zenithAngleCos ) {
        zenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );
        return EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );
      }

      vec3 totalMie( float T ) {
        float c = ( 0.2 * T ) * 10E-18;
        return 0.434 * c * MieConst;
      }

      void main() {

        vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
        vWorldPosition = worldPosition.xyz;

        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        gl_Position.z = gl_Position.w; // set z to camera.far

        vSunDirection = normalize( sunPosition );

        vSunE = sunIntensity( dot( vSunDirection, up ) );

        vSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );

        float rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );

      // extinction (absorbtion + out scattering)
      // rayleigh coefficients
        vBetaR = totalRayleigh * rayleighCoefficient;

      // mie coefficients
        vBetaM = totalMie( turbidity ) * mieCoefficient;

      }
    `,fragmentShader:`
      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      uniform float mieDirectionalG;
      uniform vec3 up;

      const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );

      // constants for atmospheric scattering
      const float pi = 3.141592653589793238462643383279502884197169;

      const float n = 1.0003; // refractive index of air
      const float N = 2.545E25; // number of molecules per unit volume for air at 288.15K and 1013mb (sea level -45 celsius)

      // optical length at zenith for molecules
      const float rayleighZenithLength = 8.4E3;
      const float mieZenithLength = 1.25E3;
      // 66 arc seconds -> degrees, and the cosine of that
      const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;

      // 3.0 / ( 16.0 * pi )
      const float THREE_OVER_SIXTEENPI = 0.05968310365946075;
      // 1.0 / ( 4.0 * pi )
      const float ONE_OVER_FOURPI = 0.07957747154594767;

      float rayleighPhase( float cosTheta ) {
        return THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );
      }

      float hgPhase( float cosTheta, float g ) {
        float g2 = pow( g, 2.0 );
        float inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );
        return ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );
      }

      void main() {

        vec3 direction = normalize( vWorldPosition - cameraPos );

      // optical length
      // cutoff angle at 90 to avoid singularity in next formula.
        float zenithAngle = acos( max( 0.0, dot( up, direction ) ) );
        float inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );
        float sR = rayleighZenithLength * inverse;
        float sM = mieZenithLength * inverse;

      // combined extinction factor
        vec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );

      // in scattering
        float cosTheta = dot( direction, vSunDirection );

        float rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );
        vec3 betaRTheta = vBetaR * rPhase;

        float mPhase = hgPhase( cosTheta, mieDirectionalG );
        vec3 betaMTheta = vBetaM * mPhase;

        vec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );
        Lin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );

      // nightsky
        float theta = acos( direction.y ); // elevation --> y-axis, [-pi/2, pi/2]
        float phi = atan( direction.z, direction.x ); // azimuth --> x-axis [-pi/2, pi/2]
        vec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );
        vec3 L0 = vec3( 0.1 ) * Fex;

      // composition + solar disc
        float sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );
        L0 += ( vSunE * 19000.0 * Fex ) * sundisk;

        vec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );

        vec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );

        gl_FragColor = vec4( retColor, 1.0 );

      #include <tonemapping_fragment>
      #include <${Tt>=154?"colorspace_fragment":"encodings_fragment"}>

      }
    `},s=new mt({name:"SkyShader",fragmentShader:m.fragmentShader,vertexShader:m.vertexShader,uniforms:ut.clone(m.uniforms),side:ht,depthWrite:!1});class i extends pt{constructor(){super(new ft(1,1,1),s)}}return Re(i,"SkyShader",m),Re(i,"material",s),i})();var At=Object.defineProperty,Ct=(m,s,i)=>s in m?At(m,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):m[s]=i,kt=(m,s,i)=>(Ct(m,s+"",i),i);class It{constructor(){kt(this,"_listeners")}addEventListener(s,i){this._listeners===void 0&&(this._listeners={});const e=this._listeners;e[s]===void 0&&(e[s]=[]),e[s].indexOf(i)===-1&&e[s].push(i)}hasEventListener(s,i){if(this._listeners===void 0)return!1;const e=this._listeners;return e[s]!==void 0&&e[s].indexOf(i)!==-1}removeEventListener(s,i){if(this._listeners===void 0)return;const h=this._listeners[s];if(h!==void 0){const f=h.indexOf(i);f!==-1&&h.splice(f,1)}}dispatchEvent(s){if(this._listeners===void 0)return;const e=this._listeners[s.type];if(e!==void 0){s.target=this;const h=e.slice(0);for(let f=0,g=h.length;f<g;f++)h[f].call(this,s);s.target=null}}}var Rt=Object.defineProperty,Dt=(m,s,i)=>s in m?Rt(m,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):m[s]=i,u=(m,s,i)=>(Dt(m,typeof s!="symbol"?s+"":s,i),i);const le=new gt,De=new xt,_t=Math.cos(70*(Math.PI/180)),_e=(m,s)=>(m%s+s)%s;let zt=class extends It{constructor(s,i){super(),u(this,"object"),u(this,"domElement"),u(this,"enabled",!0),u(this,"target",new _),u(this,"minDistance",0),u(this,"maxDistance",1/0),u(this,"minZoom",0),u(this,"maxZoom",1/0),u(this,"minPolarAngle",0),u(this,"maxPolarAngle",Math.PI),u(this,"minAzimuthAngle",-1/0),u(this,"maxAzimuthAngle",1/0),u(this,"enableDamping",!1),u(this,"dampingFactor",.05),u(this,"enableZoom",!0),u(this,"zoomSpeed",1),u(this,"enableRotate",!0),u(this,"rotateSpeed",1),u(this,"enablePan",!0),u(this,"panSpeed",1),u(this,"screenSpacePanning",!0),u(this,"keyPanSpeed",7),u(this,"zoomToCursor",!1),u(this,"autoRotate",!1),u(this,"autoRotateSpeed",2),u(this,"reverseOrbit",!1),u(this,"reverseHorizontalOrbit",!1),u(this,"reverseVerticalOrbit",!1),u(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),u(this,"mouseButtons",{LEFT:$.ROTATE,MIDDLE:$.DOLLY,RIGHT:$.PAN}),u(this,"touches",{ONE:J.ROTATE,TWO:J.DOLLY_PAN}),u(this,"target0"),u(this,"position0"),u(this,"zoom0"),u(this,"_domElementKeyEvents",null),u(this,"getPolarAngle"),u(this,"getAzimuthalAngle"),u(this,"setPolarAngle"),u(this,"setAzimuthalAngle"),u(this,"getDistance"),u(this,"getZoomScale"),u(this,"listenToKeyEvents"),u(this,"stopListenToKeyEvents"),u(this,"saveState"),u(this,"reset"),u(this,"update"),u(this,"connect"),u(this,"dispose"),u(this,"dollyIn"),u(this,"dollyOut"),u(this,"getScale"),u(this,"setScale"),this.object=s,this.domElement=i,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>l.phi,this.getAzimuthalAngle=()=>l.theta,this.setPolarAngle=t=>{let o=_e(t,2*Math.PI),p=l.phi;p<0&&(p+=2*Math.PI),o<0&&(o+=2*Math.PI);let M=Math.abs(o-p);2*Math.PI-M<M&&(o<p?o+=2*Math.PI:p+=2*Math.PI),j.phi=o-p,e.update()},this.setAzimuthalAngle=t=>{let o=_e(t,2*Math.PI),p=l.theta;p<0&&(p+=2*Math.PI),o<0&&(o+=2*Math.PI);let M=Math.abs(o-p);2*Math.PI-M<M&&(o<p?o+=2*Math.PI:p+=2*Math.PI),j.theta=o-p,e.update()},this.getDistance=()=>e.object.position.distanceTo(e.target),this.listenToKeyEvents=t=>{t.addEventListener("keydown",pe),this._domElementKeyEvents=t},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",pe),this._domElementKeyEvents=null},this.saveState=()=>{e.target0.copy(e.target),e.position0.copy(e.object.position),e.zoom0=e.object.zoom},this.reset=()=>{e.target.copy(e.target0),e.object.position.copy(e.position0),e.object.zoom=e.zoom0,e.object.updateProjectionMatrix(),e.dispatchEvent(h),e.update(),n=r.NONE},this.update=(()=>{const t=new _,o=new _(0,1,0),p=new Ce().setFromUnitVectors(s.up,o),M=p.clone().invert(),I=new _,U=new Ce,V=2*Math.PI;return function(){const Ae=e.object.position;p.setFromUnitVectors(s.up,o),M.copy(p).invert(),t.copy(Ae).sub(e.target),t.applyQuaternion(p),l.setFromVector3(t),e.autoRotate&&n===r.NONE&&O(B()),e.enableDamping?(l.theta+=j.theta*e.dampingFactor,l.phi+=j.phi*e.dampingFactor):(l.theta+=j.theta,l.phi+=j.phi);let H=e.minAzimuthAngle,Z=e.maxAzimuthAngle;isFinite(H)&&isFinite(Z)&&(H<-Math.PI?H+=V:H>Math.PI&&(H-=V),Z<-Math.PI?Z+=V:Z>Math.PI&&(Z-=V),H<=Z?l.theta=Math.max(H,Math.min(Z,l.theta)):l.theta=l.theta>(H+Z)/2?Math.max(H,l.theta):Math.min(Z,l.theta)),l.phi=Math.max(e.minPolarAngle,Math.min(e.maxPolarAngle,l.phi)),l.makeSafe(),e.enableDamping===!0?e.target.addScaledVector(c,e.dampingFactor):e.target.add(c),e.zoomToCursor&&R||e.object.isOrthographicCamera?l.radius=ue(l.radius):l.radius=ue(l.radius*w),t.setFromSpherical(l),t.applyQuaternion(M),Ae.copy(e.target).add(t),e.object.matrixAutoUpdate||e.object.updateMatrix(),e.object.lookAt(e.target),e.enableDamping===!0?(j.theta*=1-e.dampingFactor,j.phi*=1-e.dampingFactor,c.multiplyScalar(1-e.dampingFactor)):(j.set(0,0,0),c.set(0,0,0));let te=!1;if(e.zoomToCursor&&R){let ae=null;if(e.object instanceof ge&&e.object.isPerspectiveCamera){const ne=t.length();ae=ue(ne*w);const re=ne-ae;e.object.position.addScaledVector(z,re),e.object.updateMatrixWorld()}else if(e.object.isOrthographicCamera){const ne=new _(k.x,k.y,0);ne.unproject(e.object),e.object.zoom=Math.max(e.minZoom,Math.min(e.maxZoom,e.object.zoom/w)),e.object.updateProjectionMatrix(),te=!0;const re=new _(k.x,k.y,0);re.unproject(e.object),e.object.position.sub(re).add(ne),e.object.updateMatrixWorld(),ae=t.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),e.zoomToCursor=!1;ae!==null&&(e.screenSpacePanning?e.target.set(0,0,-1).transformDirection(e.object.matrix).multiplyScalar(ae).add(e.object.position):(le.origin.copy(e.object.position),le.direction.set(0,0,-1).transformDirection(e.object.matrix),Math.abs(e.object.up.dot(le.direction))<_t?s.lookAt(e.target):(De.setFromNormalAndCoplanarPoint(e.object.up,e.target),le.intersectPlane(De,e.target))))}else e.object instanceof xe&&e.object.isOrthographicCamera&&(te=w!==1,te&&(e.object.zoom=Math.max(e.minZoom,Math.min(e.maxZoom,e.object.zoom/w)),e.object.updateProjectionMatrix()));return w=1,R=!1,te||I.distanceToSquared(e.object.position)>y||8*(1-U.dot(e.object.quaternion))>y?(e.dispatchEvent(h),I.copy(e.object.position),U.copy(e.object.quaternion),te=!1,!0):!1}})(),this.connect=t=>{e.domElement=t,e.domElement.style.touchAction="none",e.domElement.addEventListener("contextmenu",Oe),e.domElement.addEventListener("pointerdown",Te),e.domElement.addEventListener("pointercancel",ee),e.domElement.addEventListener("wheel",Ne)},this.dispose=()=>{var t,o,p,M,I,U;e.domElement&&(e.domElement.style.touchAction="auto"),(t=e.domElement)==null||t.removeEventListener("contextmenu",Oe),(o=e.domElement)==null||o.removeEventListener("pointerdown",Te),(p=e.domElement)==null||p.removeEventListener("pointercancel",ee),(M=e.domElement)==null||M.removeEventListener("wheel",Ne),(I=e.domElement)==null||I.ownerDocument.removeEventListener("pointermove",he),(U=e.domElement)==null||U.ownerDocument.removeEventListener("pointerup",ee),e._domElementKeyEvents!==null&&e._domElementKeyEvents.removeEventListener("keydown",pe)};const e=this,h={type:"change"},f={type:"start"},g={type:"end"},r={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let n=r.NONE;const y=1e-6,l=new ke,j=new ke;let w=1;const c=new _,b=new F,N=new F,L=new F,A=new F,S=new F,x=new F,C=new F,T=new F,E=new F,z=new _,k=new F;let R=!1;const v=[],D={};function B(){return 2*Math.PI/60/60*e.autoRotateSpeed}function d(){return Math.pow(.95,e.zoomSpeed)}function O(t){e.reverseOrbit||e.reverseHorizontalOrbit?j.theta+=t:j.theta-=t}function Y(t){e.reverseOrbit||e.reverseVerticalOrbit?j.phi+=t:j.phi-=t}const G=(()=>{const t=new _;return function(p,M){t.setFromMatrixColumn(M,0),t.multiplyScalar(-p),c.add(t)}})(),W=(()=>{const t=new _;return function(p,M){e.screenSpacePanning===!0?t.setFromMatrixColumn(M,1):(t.setFromMatrixColumn(M,0),t.crossVectors(e.object.up,t)),t.multiplyScalar(p),c.add(t)}})(),q=(()=>{const t=new _;return function(p,M){const I=e.domElement;if(I&&e.object instanceof ge&&e.object.isPerspectiveCamera){const U=e.object.position;t.copy(U).sub(e.target);let V=t.length();V*=Math.tan(e.object.fov/2*Math.PI/180),G(2*p*V/I.clientHeight,e.object.matrix),W(2*M*V/I.clientHeight,e.object.matrix)}else I&&e.object instanceof xe&&e.object.isOrthographicCamera?(G(p*(e.object.right-e.object.left)/e.object.zoom/I.clientWidth,e.object.matrix),W(M*(e.object.top-e.object.bottom)/e.object.zoom/I.clientHeight,e.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),e.enablePan=!1)}})();function de(t){e.object instanceof ge&&e.object.isPerspectiveCamera||e.object instanceof xe&&e.object.isOrthographicCamera?w=t:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),e.enableZoom=!1)}function ie(t){de(w/t)}function me(t){de(w*t)}function ve(t){if(!e.zoomToCursor||!e.domElement)return;R=!0;const o=e.domElement.getBoundingClientRect(),p=t.clientX-o.left,M=t.clientY-o.top,I=o.width,U=o.height;k.x=p/I*2-1,k.y=-(M/U)*2+1,z.set(k.x,k.y,1).unproject(e.object).sub(e.object.position).normalize()}function ue(t){return Math.max(e.minDistance,Math.min(e.maxDistance,t))}function ye(t){b.set(t.clientX,t.clientY)}function Ze(t){ve(t),C.set(t.clientX,t.clientY)}function be(t){A.set(t.clientX,t.clientY)}function Ge(t){N.set(t.clientX,t.clientY),L.subVectors(N,b).multiplyScalar(e.rotateSpeed);const o=e.domElement;o&&(O(2*Math.PI*L.x/o.clientHeight),Y(2*Math.PI*L.y/o.clientHeight)),b.copy(N),e.update()}function Ve(t){T.set(t.clientX,t.clientY),E.subVectors(T,C),E.y>0?ie(d()):E.y<0&&me(d()),C.copy(T),e.update()}function Ke(t){S.set(t.clientX,t.clientY),x.subVectors(S,A).multiplyScalar(e.panSpeed),q(x.x,x.y),A.copy(S),e.update()}function We(t){ve(t),t.deltaY<0?me(d()):t.deltaY>0&&ie(d()),e.update()}function Xe(t){let o=!1;switch(t.code){case e.keys.UP:q(0,e.keyPanSpeed),o=!0;break;case e.keys.BOTTOM:q(0,-e.keyPanSpeed),o=!0;break;case e.keys.LEFT:q(e.keyPanSpeed,0),o=!0;break;case e.keys.RIGHT:q(-e.keyPanSpeed,0),o=!0;break}o&&(t.preventDefault(),e.update())}function we(){if(v.length==1)b.set(v[0].pageX,v[0].pageY);else{const t=.5*(v[0].pageX+v[1].pageX),o=.5*(v[0].pageY+v[1].pageY);b.set(t,o)}}function je(){if(v.length==1)A.set(v[0].pageX,v[0].pageY);else{const t=.5*(v[0].pageX+v[1].pageX),o=.5*(v[0].pageY+v[1].pageY);A.set(t,o)}}function Ee(){const t=v[0].pageX-v[1].pageX,o=v[0].pageY-v[1].pageY,p=Math.sqrt(t*t+o*o);C.set(0,p)}function Qe(){e.enableZoom&&Ee(),e.enablePan&&je()}function qe(){e.enableZoom&&Ee(),e.enableRotate&&we()}function Me(t){if(v.length==1)N.set(t.pageX,t.pageY);else{const p=fe(t),M=.5*(t.pageX+p.x),I=.5*(t.pageY+p.y);N.set(M,I)}L.subVectors(N,b).multiplyScalar(e.rotateSpeed);const o=e.domElement;o&&(O(2*Math.PI*L.x/o.clientHeight),Y(2*Math.PI*L.y/o.clientHeight)),b.copy(N)}function Pe(t){if(v.length==1)S.set(t.pageX,t.pageY);else{const o=fe(t),p=.5*(t.pageX+o.x),M=.5*(t.pageY+o.y);S.set(p,M)}x.subVectors(S,A).multiplyScalar(e.panSpeed),q(x.x,x.y),A.copy(S)}function Se(t){const o=fe(t),p=t.pageX-o.x,M=t.pageY-o.y,I=Math.sqrt(p*p+M*M);T.set(0,I),E.set(0,Math.pow(T.y/C.y,e.zoomSpeed)),ie(E.y),C.copy(T)}function $e(t){e.enableZoom&&Se(t),e.enablePan&&Pe(t)}function Je(t){e.enableZoom&&Se(t),e.enableRotate&&Me(t)}function Te(t){var o,p;e.enabled!==!1&&(v.length===0&&((o=e.domElement)==null||o.ownerDocument.addEventListener("pointermove",he),(p=e.domElement)==null||p.ownerDocument.addEventListener("pointerup",ee)),ot(t),t.pointerType==="touch"?at(t):et(t))}function he(t){e.enabled!==!1&&(t.pointerType==="touch"?nt(t):tt(t))}function ee(t){var o,p,M;st(t),v.length===0&&((o=e.domElement)==null||o.releasePointerCapture(t.pointerId),(p=e.domElement)==null||p.ownerDocument.removeEventListener("pointermove",he),(M=e.domElement)==null||M.ownerDocument.removeEventListener("pointerup",ee)),e.dispatchEvent(g),n=r.NONE}function et(t){let o;switch(t.button){case 0:o=e.mouseButtons.LEFT;break;case 1:o=e.mouseButtons.MIDDLE;break;case 2:o=e.mouseButtons.RIGHT;break;default:o=-1}switch(o){case $.DOLLY:if(e.enableZoom===!1)return;Ze(t),n=r.DOLLY;break;case $.ROTATE:if(t.ctrlKey||t.metaKey||t.shiftKey){if(e.enablePan===!1)return;be(t),n=r.PAN}else{if(e.enableRotate===!1)return;ye(t),n=r.ROTATE}break;case $.PAN:if(t.ctrlKey||t.metaKey||t.shiftKey){if(e.enableRotate===!1)return;ye(t),n=r.ROTATE}else{if(e.enablePan===!1)return;be(t),n=r.PAN}break;default:n=r.NONE}n!==r.NONE&&e.dispatchEvent(f)}function tt(t){if(e.enabled!==!1)switch(n){case r.ROTATE:if(e.enableRotate===!1)return;Ge(t);break;case r.DOLLY:if(e.enableZoom===!1)return;Ve(t);break;case r.PAN:if(e.enablePan===!1)return;Ke(t);break}}function Ne(t){e.enabled===!1||e.enableZoom===!1||n!==r.NONE&&n!==r.ROTATE||(t.preventDefault(),e.dispatchEvent(f),We(t),e.dispatchEvent(g))}function pe(t){e.enabled===!1||e.enablePan===!1||Xe(t)}function at(t){switch(Le(t),v.length){case 1:switch(e.touches.ONE){case J.ROTATE:if(e.enableRotate===!1)return;we(),n=r.TOUCH_ROTATE;break;case J.PAN:if(e.enablePan===!1)return;je(),n=r.TOUCH_PAN;break;default:n=r.NONE}break;case 2:switch(e.touches.TWO){case J.DOLLY_PAN:if(e.enableZoom===!1&&e.enablePan===!1)return;Qe(),n=r.TOUCH_DOLLY_PAN;break;case J.DOLLY_ROTATE:if(e.enableZoom===!1&&e.enableRotate===!1)return;qe(),n=r.TOUCH_DOLLY_ROTATE;break;default:n=r.NONE}break;default:n=r.NONE}n!==r.NONE&&e.dispatchEvent(f)}function nt(t){switch(Le(t),n){case r.TOUCH_ROTATE:if(e.enableRotate===!1)return;Me(t),e.update();break;case r.TOUCH_PAN:if(e.enablePan===!1)return;Pe(t),e.update();break;case r.TOUCH_DOLLY_PAN:if(e.enableZoom===!1&&e.enablePan===!1)return;$e(t),e.update();break;case r.TOUCH_DOLLY_ROTATE:if(e.enableZoom===!1&&e.enableRotate===!1)return;Je(t),e.update();break;default:n=r.NONE}}function Oe(t){e.enabled!==!1&&t.preventDefault()}function ot(t){v.push(t)}function st(t){delete D[t.pointerId];for(let o=0;o<v.length;o++)if(v[o].pointerId==t.pointerId){v.splice(o,1);return}}function Le(t){let o=D[t.pointerId];o===void 0&&(o=new F,D[t.pointerId]=o),o.set(t.pageX,t.pageY)}function fe(t){const o=t.pointerId===v[0].pointerId?v[1]:v[0];return D[o.pointerId]}this.dollyIn=(t=d())=>{me(t),e.update()},this.dollyOut=(t=d())=>{ie(t),e.update()},this.getScale=()=>w,this.setScale=t=>{de(t),e.update()},this.getZoomScale=()=>d(),i!==void 0&&this.connect(i),this.update()}};const Ft=P.forwardRef(({makeDefault:m,camera:s,regress:i,domElement:e,enableDamping:h=!0,keyEvents:f=!1,onChange:g,onStart:r,onEnd:n,...y},l)=>{const j=K(E=>E.invalidate),w=K(E=>E.camera),c=K(E=>E.gl),b=K(E=>E.events),N=K(E=>E.setEvents),L=K(E=>E.set),A=K(E=>E.get),S=K(E=>E.performance),x=s||w,C=e||b.connected||c.domElement,T=P.useMemo(()=>new zt(x),[x]);return vt(()=>{T.enabled&&T.update()},-1),P.useEffect(()=>(f&&T.connect(f===!0?C:f),T.connect(C),()=>void T.dispose()),[f,C,i,T,j]),P.useEffect(()=>{const E=R=>{j(),i&&S.regress(),g&&g(R)},z=R=>{r&&r(R)},k=R=>{n&&n(R)};return T.addEventListener("change",E),T.addEventListener("start",z),T.addEventListener("end",k),()=>{T.removeEventListener("start",z),T.removeEventListener("end",k),T.removeEventListener("change",E)}},[g,r,n,T,j,N]),P.useEffect(()=>{if(m){const E=A().controls;return L({controls:T}),()=>L({controls:E})}},[m,T]),P.createElement("primitive",ze({ref:l,object:T,enableDamping:h},y))});var He={exports:{}};(function(m,s){(function(i,e){m.exports=e()})(rt,function(){var i=function(){function e(c){return g.appendChild(c.dom),c}function h(c){for(var b=0;b<g.children.length;b++)g.children[b].style.display=b===c?"block":"none";f=c}var f=0,g=document.createElement("div");g.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",g.addEventListener("click",function(c){c.preventDefault(),h(++f%g.children.length)},!1);var r=(performance||Date).now(),n=r,y=0,l=e(new i.Panel("FPS","#0ff","#002")),j=e(new i.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var w=e(new i.Panel("MB","#f08","#201"));return h(0),{REVISION:16,dom:g,addPanel:e,showPanel:h,begin:function(){r=(performance||Date).now()},end:function(){y++;var c=(performance||Date).now();if(j.update(c-r,200),c>n+1e3&&(l.update(1e3*y/(c-n),100),n=c,y=0,w)){var b=performance.memory;w.update(b.usedJSHeapSize/1048576,b.jsHeapSizeLimit/1048576)}return c},update:function(){r=this.end()},domElement:g,setMode:h}};return i.Panel=function(e,h,f){var g=1/0,r=0,n=Math.round,y=n(window.devicePixelRatio||1),l=80*y,j=48*y,w=3*y,c=2*y,b=3*y,N=15*y,L=74*y,A=30*y,S=document.createElement("canvas");S.width=l,S.height=j,S.style.cssText="width:80px;height:48px";var x=S.getContext("2d");return x.font="bold "+9*y+"px Helvetica,Arial,sans-serif",x.textBaseline="top",x.fillStyle=f,x.fillRect(0,0,l,j),x.fillStyle=h,x.fillText(e,w,c),x.fillRect(b,N,L,A),x.fillStyle=f,x.globalAlpha=.9,x.fillRect(b,N,L,A),{dom:S,update:function(C,T){g=Math.min(g,C),r=Math.max(r,C),x.fillStyle=f,x.globalAlpha=1,x.fillRect(0,0,l,N),x.fillStyle=h,x.fillText(n(C)+" "+e+" ("+n(g)+"-"+n(r)+")",w,c),x.drawImage(S,b+y,N,L-y,A,b,N,L-y,A),x.fillRect(b+L-y,N,y,A),x.fillStyle=f,x.globalAlpha=.9,x.fillRect(b+L-y,N,y,n((1-C/T)*A))}}},i})})(He);var Bt=He.exports;const Yt=lt(Bt);function Ut(m,s=[],i){const[e,h]=P.useState();return P.useLayoutEffect(()=>{const f=m();return h(f),()=>void 0},s),e}function Ht({showPanel:m=0,className:s,parent:i}){const e=Ut(()=>new Yt,[]);return P.useEffect(()=>{if(e){const h=i&&i.current||document.body;e.showPanel(m),h==null||h.appendChild(e.dom);const f=(s??"").split(" ").filter(n=>n);f.length&&e.dom.classList.add(...f);const g=yt(()=>e.begin()),r=bt(()=>e.end());return()=>{f.length&&e.dom.classList.remove(...f),h==null||h.removeChild(e.dom),g(),r()}}},[i,e,s,m]),null}function Zt(m,s,i=new _){const e=Math.PI*(m-.5),h=2*Math.PI*(s-.5);return i.x=Math.cos(h),i.y=Math.sin(e),i.z=Math.sin(h),i}const Gt=P.forwardRef(({inclination:m=.6,azimuth:s=.1,distance:i=1e3,mieCoefficient:e=.005,mieDirectionalG:h=.8,rayleigh:f=.5,turbidity:g=10,sunPosition:r=Zt(m,s),...n},y)=>{const l=P.useMemo(()=>new _().setScalar(i),[i]),[j]=P.useState(()=>new Lt);return P.createElement("primitive",ze({object:j,ref:y,"material-uniforms-mieCoefficient-value":e,"material-uniforms-mieDirectionalG-value":h,"material-uniforms-rayleigh-value":f,"material-uniforms-sunPosition-value":r,"material-uniforms-turbidity-value":g,scale:l},n))}),Vt=({baseTexturePath:m,heightmapTexturePath:s,terrainTexturePath:i,miscTexturePath:e,politicalTexturePath:h,width:f,height:g,terrainSegments:r,waterSegments:n,qualityLevel:y,lowHeight:l=-.01,midHeight:j=0,highHeight:w=.1})=>{const[c,b]=P.useState({base:null,heightmap:null,terrain:null,misc:null,political:null}),[N,L]=P.useState(1),A=P.useRef(null);P.useRef(null),P.useRef(null),P.useEffect(()=>{console.log("Texture loading effect triggered with:",{baseTexturePath:m,heightmapTexturePath:s,terrainTexturePath:i,miscTexturePath:e,politicalTexturePath:h});const B=new wt;B.load(m,d=>{d.wrapS=d.wrapT=X,d.repeat.set(1,1);const O=d.image;O&&L(O.width/O.height),b(Y=>({...Y,base:d}))}),B.load(s,d=>{d.wrapS=d.wrapT=X,d.repeat.set(1,1);const O=document.createElement("canvas"),Y=O.getContext("2d");if(Y){O.width=d.image.width,O.height=d.image.height,Y.drawImage(d.image,0,0);for(let W=0;W<3;W++)Y.filter="blur(2px)",Y.drawImage(O,0,0);const G=new jt(O);G.wrapS=X,G.wrapT=X,b(W=>({...W,heightmap:G}))}else b(G=>({...G,heightmap:d}))}),i&&B.load(i,d=>{d.wrapS=d.wrapT=X,d.repeat.set(1,1),b(O=>({...O,terrain:d}))}),e&&B.load(e,d=>{d.wrapS=d.wrapT=X,d.repeat.set(1,1),b(O=>({...O,misc:d}))}),h?(console.log("Loading political texture:",h),B.load(h,d=>{console.log("Political texture loaded successfully:",d),console.log("Texture image:",d.image),d.wrapS=d.wrapT=X,d.repeat.set(1,1),b(O=>(console.log("Setting political texture in state"),{...O,political:d}))},d=>{console.log("Political texture loading progress:",d)},d=>{console.error("Failed to load political texture:",d)})):(console.log("No political texture path provided"),b(d=>({...d,political:null})))},[m,s,i,e,h]);const S=f,x=f/N,C=P.useMemo(()=>new oe({map:c.base,displacementMap:c.heightmap,displacementScale:w-l,displacementBias:l,roughness:.8,metalness:0,normalScale:new F(.5,.5)}),[c.base,c.heightmap,l,w]),T=P.useMemo(()=>c.terrain?new oe({map:c.terrain,transparent:!0,alphaTest:.1,opacity:.8,displacementMap:c.heightmap,displacementScale:w-l,displacementBias:l,roughness:.6,metalness:0}):null,[c.terrain,c.heightmap,l,w]),E=P.useMemo(()=>c.misc?new oe({map:c.misc,transparent:!0,alphaTest:.05,opacity:.15,displacementMap:c.heightmap,displacementScale:w-l,displacementBias:l,roughness:.5,metalness:0}):null,[c.misc,c.heightmap,l,w]),z=P.useMemo(()=>c.political?(console.log("Creating political overlay material"),new oe({map:c.political,transparent:!0,alphaTest:.1,opacity:.9,displacementMap:c.heightmap,displacementScale:w-l,displacementBias:l,roughness:.4,metalness:0})):null,[c.political,c.heightmap,l,w]),k=P.useMemo(()=>new oe({color:new Et(9127187),roughness:.8,metalness:.1}),[]);if(!c.base||!c.heightmap)return null;const R=S+.4,v=.05,D=.2;return console.log("Rendering political overlay:",{hasPoliticalTexture:!!c.political,hasPoliticalMaterial:!!z,politicalTexturePath:h,textures:Object.keys(c)}),a.jsxs("group",{children:[a.jsxs("mesh",{ref:A,position:[0,0,0],rotation:[-Math.PI/2,0,0],receiveShadow:!0,castShadow:!0,children:[a.jsx("planeGeometry",{args:[S,x,r,r]}),a.jsx("primitive",{object:C,attach:"material"})]}),c.terrain&&T&&a.jsxs("mesh",{position:[0,.001,0],rotation:[-Math.PI/2,0,0],receiveShadow:!0,children:[a.jsx("planeGeometry",{args:[S,x,r,r]}),a.jsx("primitive",{object:T,attach:"material"})]}),c.misc&&E&&a.jsxs("mesh",{position:[0,.002,0],rotation:[-Math.PI/2,0,0],receiveShadow:!0,children:[a.jsx("planeGeometry",{args:[S,x,r,r]}),a.jsx("primitive",{object:E,attach:"material"})]}),c.political&&z&&a.jsxs("mesh",{position:[0,.015,0],rotation:[-Math.PI/2,0,0],receiveShadow:!0,children:[a.jsx("planeGeometry",{args:[S,x,r,r]}),a.jsx("primitive",{object:z,attach:"material"})]}),!c.political&&h&&a.jsxs("mesh",{position:[0,.015,0],rotation:[-Math.PI/2,0,0],children:[a.jsx("planeGeometry",{args:[S,x,1,1]}),a.jsx("meshBasicMaterial",{color:"lime",transparent:!0,opacity:.8})]}),a.jsxs("mesh",{position:[0,-.05,(x+D)/2],rotation:[-Math.PI/2,0,0],receiveShadow:!0,castShadow:!0,children:[a.jsx("boxGeometry",{args:[R,D,v]}),a.jsx("primitive",{object:k,attach:"material"})]}),a.jsxs("mesh",{position:[0,-.05,-(x+D)/2],rotation:[-Math.PI/2,0,0],receiveShadow:!0,castShadow:!0,children:[a.jsx("boxGeometry",{args:[R,D,v]}),a.jsx("primitive",{object:k,attach:"material"})]}),a.jsxs("mesh",{position:[-(S+D)/2,-.05,0],rotation:[-Math.PI/2,0,0],receiveShadow:!0,castShadow:!0,children:[a.jsx("boxGeometry",{args:[D,x,v]}),a.jsx("primitive",{object:k,attach:"material"})]}),a.jsxs("mesh",{position:[(S+D)/2,-.05,0],rotation:[-Math.PI/2,0,0],receiveShadow:!0,castShadow:!0,children:[a.jsx("boxGeometry",{args:[D,x,v]}),a.jsx("primitive",{object:k,attach:"material"})]})]})},Kt=({baseTexturePath:m,heightmapTexturePath:s,terrainTexturePath:i,miscTexturePath:e,politicalTexturePath:h,width:f=20,height:g=20,qualityLevel:r=1,showFPS:n=!1,lowHeight:y=-.01,midHeight:l=0,highHeight:j=.1})=>{const w=Math.pow(2,8+r),c=Math.pow(2,7+r);return a.jsxs(a.Fragment,{children:[a.jsx("ambientLight",{intensity:.25,color:"#fff5f0"}),a.jsx("directionalLight",{position:[15,20,10],intensity:.5,color:"#fff8f0",castShadow:!0,"shadow-mapSize-width":2048,"shadow-mapSize-height":2048,"shadow-camera-far":50,"shadow-camera-left":-20,"shadow-camera-right":20,"shadow-camera-top":20,"shadow-camera-bottom":-20}),a.jsx("directionalLight",{position:[-10,15,-5],intensity:.2,color:"#ffe8d6",castShadow:!0}),a.jsx("directionalLight",{position:[0,10,-15],intensity:.15,color:"#ffeedd"}),a.jsx("directionalLight",{position:[5,12,8],intensity:.1,color:"#ffd4b3"}),a.jsx(Gt,{distance:45e4,sunPosition:[0,1,0],inclination:.5,azimuth:.25}),n&&a.jsx(Ht,{}),a.jsx(Vt,{baseTexturePath:m,heightmapTexturePath:s,terrainTexturePath:i,miscTexturePath:e,politicalTexturePath:h,width:f,height:g,terrainSegments:w,waterSegments:c,qualityLevel:r,lowHeight:y,midHeight:l,highHeight:j}),a.jsx(Ft,{enablePan:!0,enableZoom:!0,enableRotate:!0,minDistance:1,maxDistance:50,zoomSpeed:2,minPolarAngle:0,maxPolarAngle:Math.PI/2.5,minAzimuthAngle:-Math.PI/3,maxAzimuthAngle:Math.PI/3,enableDamping:!0,dampingFactor:.12,rotateSpeed:.6,panSpeed:.8,target:[0,0,0]})]})},Wt=[{name:"Base Layer (Low)",path:"/nyrvalos/baselayer-low.jpg",description:"Low resolution base layer texture",type:"base"},{name:"Base Layer (Medium)",path:"/nyrvalos/baselayer-med.jpg",description:"Medium resolution base layer texture",type:"base"},{name:"Base Layer (Full)",path:"/nyrvalos/baselayer-full.jpg",description:"Full resolution base layer texture",type:"base"}],Xt=[{name:"Heightmap (Low)",path:"/nyrvalos/heightmap-low.png",description:"Low resolution heightmap",type:"heightmap"},{name:"Heightmap (Medium)",path:"/nyrvalos/heightmap-med.png",description:"Medium resolution heightmap",type:"heightmap"},{name:"Heightmap (Full)",path:"/nyrvalos/heightmap-full.png",description:"Full resolution heightmap",type:"heightmap"}],Qt=[{name:"Terrain (Low)",path:"/nyrvalos/terrain-low.png",description:"Low resolution terrain overlay",type:"terrain"},{name:"Terrain (Medium)",path:"/nyrvalos/terrain-med.png",description:"Medium resolution terrain overlay",type:"terrain"},{name:"Terrain (Full)",path:"/nyrvalos/terrain-full.png",description:"Full resolution terrain overlay",type:"terrain"}],qt=[{name:"Misc (Low)",path:"/nyrvalos/misc-low.png",description:"Low resolution misc overlay",type:"misc"},{name:"Misc (Medium)",path:"/nyrvalos/misc-med.png",description:"Medium resolution misc overlay",type:"misc"},{name:"Misc (Full)",path:"/nyrvalos/misc-full.png",description:"Full resolution misc overlay",type:"misc"}],$t=({selectedBaseTexture:m,selectedHeightmapTexture:s,selectedTerrainTexture:i,selectedMiscTexture:e,onBaseTextureSelect:h,onHeightmapTextureSelect:f,onTerrainTextureSelect:g,onMiscTextureSelect:r})=>a.jsxs(Fe,{className:"absolute top-4 left-4 w-80 bg-white/95 dark:bg-gray-900/95 backdrop-blur-sm border-white/20 dark:border-gray-700/20 shadow-xl z-10",children:[a.jsx(Be,{className:"pb-3",children:a.jsx(Ye,{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Texture Layers"})}),a.jsxs(Ue,{className:"space-y-4 max-h-[80vh] overflow-y-auto",children:[a.jsxs("div",{children:[a.jsx(Q,{className:"text-xs font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Base Layer (JPG)"}),a.jsx("div",{className:"grid grid-cols-1 gap-2",children:Wt.map(n=>a.jsx(se,{variant:m===n.path?"default":"outline",size:"sm",onClick:()=>h(n.path),className:"justify-start text-left h-auto p-2 text-xs",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:n.name}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:n.description})]})},n.path))})]}),a.jsxs("div",{children:[a.jsx(Q,{className:"text-xs font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Heightmap (PNG)"}),a.jsx("div",{className:"grid grid-cols-1 gap-2",children:Xt.map(n=>a.jsx(se,{variant:s===n.path?"default":"outline",size:"sm",onClick:()=>f(n.path),className:"justify-start text-left h-auto p-2 text-xs",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:n.name}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:n.description})]})},n.path))})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(Q,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Terrain Overlay (PNG)"}),a.jsx(ce,{checked:i!==null,onCheckedChange:n=>{g(n?"/nyrvalos/terrain-med.png":null)}})]}),i&&a.jsx("div",{className:"grid grid-cols-1 gap-2",children:Qt.map(n=>a.jsx(se,{variant:i===n.path?"default":"outline",size:"sm",onClick:()=>g(n.path),className:"justify-start text-left h-auto p-2 text-xs",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:n.name}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:n.description})]})},n.path))})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(Q,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Misc Overlay (PNG) - 10% Opacity"}),a.jsx(ce,{checked:e!==null,onCheckedChange:n=>{r(n?"/nyrvalos/misc-med.png":null)}})]}),e&&a.jsx("div",{className:"grid grid-cols-1 gap-2",children:qt.map(n=>a.jsx(se,{variant:e===n.path?"default":"outline",size:"sm",onClick:()=>r(n.path),className:"justify-start text-left h-auto p-2 text-xs",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:n.name}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:n.description})]})},n.path))})]})]})]}),Jt=({showFPS:m,onShowFPSChange:s,textureQuality:i,onTextureQualityChange:e,showPoliticalMap:h,onShowPoliticalMapChange:f})=>{var n,y;const g=[{value:"low",label:"Low"},{value:"med",label:"Medium"},{value:"full",label:"Full"}],r=()=>{const j=(g.findIndex(w=>w.value===i)+1)%g.length;return g[j].value};return a.jsxs(Fe,{className:"w-80 bg-white/95 dark:bg-gray-900/95 backdrop-blur-sm border-blue-200 dark:border-gray-700 shadow-lg",children:[a.jsx(Be,{className:"pb-3",children:a.jsxs(Ye,{className:"flex items-center gap-2 text-lg",children:[a.jsx(Ie,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Quality Settings"]})}),a.jsxs(Ue,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(St,{className:"w-4 h-4 text-gray-600 dark:text-gray-300"}),a.jsx(Q,{htmlFor:"fps-toggle",className:"text-sm font-medium",children:"FPS Counter"})]}),a.jsx(ce,{id:"fps-toggle",checked:m,onCheckedChange:s})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Pt,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"}),a.jsx(Q,{htmlFor:"political-toggle",className:"text-sm font-medium",children:"Political Map Overlay"})]}),a.jsx(ce,{id:"political-toggle",checked:h,onCheckedChange:f})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Q,{className:"text-sm font-medium",children:"Texture Quality"}),a.jsxs(se,{onClick:()=>e(r()),variant:"outline",className:"w-full justify-between",children:[a.jsxs("span",{children:["Current: ",(n=g.find(l=>l.value===i))==null?void 0:n.label]}),a.jsx(Ie,{className:"w-4 h-4"})]})]}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-800 p-2 rounded",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Current:"})," ",(y=g.find(l=>l.value===i))==null?void 0:y.label," Quality"]}),a.jsx("p",{className:"mt-1",children:"Click to cycle through quality levels"})]})]})]})},ra=()=>{const[m,s]=P.useState("/nyrvalos/baselayer-med.jpg"),[i,e]=P.useState("/nyrvalos/heightmap-med.png"),[h,f]=P.useState("/nyrvalos/terrain-med.png"),[g,r]=P.useState("/nyrvalos/misc-med.png"),[n,y]=P.useState(!1),[l,j]=P.useState("full"),w=1,[c,b]=P.useState(!1),N=-.01,L=0,A=.1,S=(d,O)=>d.replace(/(low|med|full)/,O),x=S(m,l),C=S(i,l),T=h?S(h,l):null,E=g?S(g,l):null,z=c?"/nyrvalos/2025NordicsMapWeek16small.jpg":null;console.log("Political map state:",{showPoliticalMap:c,currentPoliticalTexture:z});const k=d=>{s(d)},R=d=>{e(d)},v=d=>{f(d)},D=d=>{r(d)},B=d=>{j(d)};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-cyan-50 to-sky-100 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[a.jsx("div",{className:"bg-white/90 dark:bg-gray-900/90 backdrop-blur-sm border-b border-blue-200 dark:border-gray-700 shadow-sm",children:a.jsx("div",{className:"container mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(ct,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:"Nyrvalos"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"3D Layered Texture Viewer with Water Effects"})]})]})})}),a.jsxs("div",{className:"h-[calc(100vh-120px)] relative",children:[a.jsx($t,{selectedBaseTexture:m,selectedHeightmapTexture:i,selectedTerrainTexture:h,selectedMiscTexture:g,onBaseTextureSelect:k,onHeightmapTextureSelect:R,onTerrainTextureSelect:v,onMiscTextureSelect:D}),a.jsx("div",{className:"absolute top-4 right-4 z-10",children:a.jsx(Jt,{showFPS:n,onShowFPSChange:y,textureQuality:l,onTextureQualityChange:B,showPoliticalMap:c,onShowPoliticalMapChange:b})}),a.jsx("div",{className:"w-full h-full relative",children:a.jsx(Mt,{camera:{position:[0,15,0],fov:50,near:.1,far:1e3},style:{background:"transparent"},gl:{antialias:!0,powerPreference:"high-performance",alpha:!0,depth:!0,stencil:!1,preserveDrawingBuffer:!1},dpr:[.5,1],performance:{min:.5},shadows:!0,children:a.jsx(Kt,{baseTexturePath:x,heightmapTexturePath:C,terrainTexturePath:T,miscTexturePath:E,politicalTexturePath:z,width:20,height:20,qualityLevel:w,showFPS:n,lowHeight:N,midHeight:L,highHeight:A})})})]})]})};export{ra as default};
