import{r as c,j as e,v as d,w as m,z as x,x as p,y as j,bN as y}from"./index-DUDTAd9W.js";import{O as S}from"./optimizedWikiService-C1zy6_dl.js";const w=()=>{const[t,v]=c.useState(null),[i,f]=c.useState(null),[n,l]=c.useState(!1),[u,a]=c.useState(null),h=async()=>{l(!0),a(null);try{console.log("🧪 Testing optimized service...");const s=Date.now(),r=await S.getFileStructureOnly(),o=Date.now();v({files:r,count:r.length,time:o-s,timestamp:new Date().toISOString()}),console.log("✅ Optimized service result:",r)}catch(s){console.error("❌ Optimized service error:",s),a(s instanceof Error?s.message:"Unknown error")}finally{l(!1)}},g=async()=>{l(!0),a(null);try{console.log("🧪 Testing original service...");const s=Date.now(),r=await y.getFileStructure(),o=Date.now();f({files:r,count:r.length,time:o-s,timestamp:new Date().toISOString()}),console.log("✅ Original service result:",r)}catch(s){console.error("❌ Original service error:",s),a(s instanceof Error?s.message:"Unknown error")}finally{l(!1)}},N=async()=>{await h(),await g()};return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Wiki Service Debug"}),e.jsxs("div",{className:"flex gap-4 mb-6",children:[e.jsx(d,{onClick:h,disabled:n,children:"Test Optimized Service"}),e.jsx(d,{onClick:g,disabled:n,children:"Test Original Service"}),e.jsx(d,{onClick:N,disabled:n,children:"Test Both"})]}),u&&e.jsx(m,{className:"mb-6 border-red-200 bg-red-50",children:e.jsx(x,{className:"pt-6",children:e.jsxs("p",{className:"text-red-700",children:["Error: ",u]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(m,{children:[e.jsx(p,{children:e.jsx(j,{children:"Optimized Service"})}),e.jsx(x,{children:t?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Files Found:"})," ",t.count]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Time:"})," ",t.time,"ms"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Timestamp:"})," ",t.timestamp]}),e.jsxs("details",{className:"mt-4",children:[e.jsx("summary",{className:"cursor-pointer font-medium",children:"Raw Data"}),e.jsx("pre",{className:"mt-2 text-xs bg-gray-100 p-2 rounded overflow-auto max-h-40",children:JSON.stringify(t.files,null,2)})]})]}):e.jsx("p",{className:"text-muted-foreground",children:"No test run yet"})})]}),e.jsxs(m,{children:[e.jsx(p,{children:e.jsx(j,{children:"Original Service"})}),e.jsx(x,{children:i?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Files Found:"})," ",i.count]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Time:"})," ",i.time,"ms"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Timestamp:"})," ",i.timestamp]}),e.jsxs("details",{className:"mt-4",children:[e.jsx("summary",{className:"cursor-pointer font-medium",children:"Raw Data"}),e.jsx("pre",{className:"mt-2 text-xs bg-gray-100 p-2 rounded overflow-auto max-h-40",children:JSON.stringify(i.files,null,2)})]})]}):e.jsx("p",{className:"text-muted-foreground",children:"No test run yet"})})]})]}),n&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),e.jsx("p",{children:"Testing services..."})]})]})};export{w as default};
